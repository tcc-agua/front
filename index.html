<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WISE</title>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- Botão da Narradora -->
    <button class="narrator-button" onclick="toggleNarration()">
        <img class="narradora-icon" src="./src/assets/images/sound.svg" alt="Narradora">
    </button>

    <!-- VLibras -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>

    <!-- Script narradora -->
    <script>
        let isSpeaking = false; // Estado da narração

        function toggleNarration() {
            const synth = window.speechSynthesis;

            if (isSpeaking) {
                synth.cancel();
                isSpeaking = false;
            } else {
                const utterance = new SpeechSynthesisUtterance();
                utterance.lang = 'pt-BR';

                const content = document.body.innerText || document.body.textContent;
                utterance.text = content;

                synth.speak(utterance);
                isSpeaking = true;

                utterance.onend = () => {
                    isSpeaking = false;
                };
            }
        }
    </script>
</body>

<!-- NARRADORA  -->
<style>
    .narradora-icon {
        height: 18px;
    }

    .narrator-button {
        position: fixed;
        bottom: 360px;
        right: 10px;
        background-color: #2a76e2;
        color: white;
        border: none;
        padding: 10px 11px;
        border-radius: 8px;
        cursor: pointer;
        z-index: 1000;
    }

    .narrator-button:hover {
        background-color: #0968ce;
    }
</style>
</html>
